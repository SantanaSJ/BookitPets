<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="fragments/head::head"></head>

<body>

<!-- ======= Header ======= -->
<header th:replace="fragments/navbar::navbar"></header>
<!-- End Header -->
<main>
    <section>
        <div class="row justify-content-center">
            <div class="col-xl-8 col-lg-7">

                <div class="hotel py-2 px-2 pb-4 border-bottom">

                    <!--    TODO: Add required on fields- -->
                    <form
                            th:object="${profileUpdateBindingModel}"
                            th:action="@{/users/profile/update/{id}(id=*{userId})}"
                            th:method="PATCH"
                            enctype="multipart/form-data">
                        <div class="row">
                            <div class="col">
                                <div class="title border-bottom h2" id="title">
                                    <div class="card-header">
                                        <p>Update your profile:</p>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col">
                                        <label class="label-align">First Name<span
                                                class="required">*</span></label>
                                        <input th:field="*{firstName}" type="text" class="form-control" name="name"
                                               placeholder="ex. John ..."/>
                                        <div class="col-auto">
                                            <small th:if="${#fields.hasErrors('firstName')}"
                                                   th:errors="*{firstName}"
                                                   id="first-nameError"
                                                   class="text-light form-text bg-danger rounded">xxx</small>
                                        </div>
                                    </div>


                                    <div class="col">
                                        <label class="label-align">Last Name<span
                                                class="required">*</span></label>
                                        <input th:field="*{lastName}" class="form-control" name="name"
                                               placeholder="ex. Doe..."
                                        />
                                        <div class="col-auto">
                                            <small th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"
                                                   id="last-nameError"
                                                   class="text-light form-text bg-danger rounded">xxx</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <label class="label-align">Pet Name<span
                                                class="required">*</span></label>
                                        <input th:field="*{petName}" class="form-control" name="name"
                                               placeholder="ex. Lassie ..."
                                        />
                                        <div class="col-auto">
                                            <small th:if="${#fields.hasErrors('petName')}" th:errors="*{petName}"
                                                   class="text-light form-text bg-danger rounded">xxx</small>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <label class="label-align">Kilograms<span
                                                class="required">*</span></label>
                                        <input th:field="*{petKilograms}" class="form-control" name="name"
                                               placeholder="ex. 45kg ..."
                                        />
                                        <div class="col-auto">
                                            <small th:if="${#fields.hasErrors('petKilograms')}"
                                                   th:errors="*{petKilograms}"
                                                   class="text-light form-text bg-danger rounded">xxx</small>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col">
<!--                                         th:each="addImageBindingModel, rowStat : ${profileUpdateBindingModel}">-->
                                        <label for="name" class="form-label ">Add an image of your pet</label>
                                        <input th:errorclass="is-invalid"
                                               th:field="*{addImageBindingModel.title}"
                                               class="form-control input"
                                               placeholder="Image title..."
                                               type="text"
                                               id="name">
                                        <input th:errorclass="is-invalid"
                                               th:field="*{addImageBindingModel.file}"
                                               class="form-control"
                                               type="file"
                                               id="picture">
                                        <small class="col-auto"
                                               th:if="${#fields.hasErrors('*{addImageBindingModel.title}')}"
                                               th:errors="*{addImageBindingModel.title}"
                                               id="numberOfRoms-Error">
                                        </small>

                                    </div>
                                    <!--                                <div class="col"-->
                                    <!--                                     th:each="addPictureBindingModels, itemStat : ${profileUpdateBindingModel}">-->
                                    <!--                                    <label for="name" class="form-label ">Update your profile image</label>-->
                                    <!--                                    <input th:errorclass="is-invalid"-->
                                    <!--                                           th:field="*{addImageBindingModel[__${itemStat.index}__].title}"-->
                                    <!--                                           class="form-control input"-->
                                    <!--                                           placeholder="Image title..."-->
                                    <!--                                           type="text"-->
                                    <!--                                           id="name">-->
                                    <!--                                    <input th:errorclass="is-invalid"-->
                                    <!--                                           th:field="*{addImageBindingModel[__${itemStat.index}__].file}"-->
                                    <!--                                           class="form-control"-->
                                    <!--                                           type="file"-->
                                    <!--                                           id="picture">-->
                                    <!--                                    <small class="col-auto"-->
                                    <!--                                           th:if="${#fields.hasErrors('*{addPictureBindingModels[__${itemStat.index}__].title}')}"-->
                                    <!--                                           th:errors="*{addImageBindingModel[__${itemStat.index}__].title}"-->
                                    <!--                                           id="numberOfRoms-Error">-->
                                    <!--                                    </small>-->

                                    <!--                                </div>-->
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <label for="phone" class="label-align">Phone Number</label>

                                        <input type="tel"
                                               th:field="*{phoneNumber}"
                                               id="phone"
                                               class="form-control"
                                               name="phone">

                                        <div class="col-auto">
                                            <small th:if="${#fields.hasErrors('phoneNumber')}"
                                                   th:errors="*{phoneNumber}"
                                                   id="phoneError"
                                                   class="text-light form-text bg-danger rounded">Username length must
                                                be
                                                more than 3
                                                characters</small>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <label class="label-align">email<span
                                                class="required">*</span></label>
                                        <input th:field="*{email}" class="form-control" type="email"
                                        />
                                        <div class="col-auto">
                                            <small th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
                                                   id="email-Error"
                                                   class="text-light form-text bg-danger rounded">xxx</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="ln_solid">
                                    <div class="form-group">
                                        <div class="col-md-6 offset-md-3">
                                            <button type='submit' class="btn btn-primary">Update</button>
                                            <button type='reset' class="btn btn-success">Reset</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>

                </div>
            </div>
        </div>

    </section>
</main>
<!-- ======= Footer ======= -->
<footer th:replace="fragments/footer::footer"></footer>
<!-- End Footer -->
<script>
    const input = $("input:reset");
</script>
</body>
</html>